OCAML_LIBS += \
  $(UBASEDIR)/ubase \
  $(HBASEDIR)/hbase \
  $(GENEPIDIR)/genepi \
  $(FOCALDIR)/src/harmony

OCAMLINCLUDES += \
  $(UBASEDIR) \
  $(HBASEDIR) \
  $(FOCALDIR)/src

RESULT = iCalViewer
RESULTS = iCalendar.cmxa $(RESULT)$(EXE)

.DEFAULT: $(RESULTS)

GENERATED_SOURCES = iCalendarparse.mli iCalendarparse.ml iCalendarlex.ml 
LocalOCamlGeneratedFiles($(GENERATED_SOURCES))

ICALENDAR_SOURCES[] = \
   iCalendar_syntax.ml iCalendar_print.ml \
   iCalendar_lextypes.ml iCalendarparse.mly \
   iCalendarlex.mll ical.mli ical.ml \
   iCalendar.mli iCalendar.ml

OCamlProgram($(RESULT), $(rootname $(ICALENDAR_SOURCES)) $(RESULT))
OCamlLibrary(iCalendar, $(rootname $(ICALENDAR_SOURCES)))

clean:
  $(CLEAN) $(GENERATED_SOURCES) $(RESULT)

